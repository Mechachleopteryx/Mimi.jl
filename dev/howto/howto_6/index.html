<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>6 Port to v1.0.0 · Mimi.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Mimi.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/tutorial_main/">Tutorials Intro</a></li><li><a class="tocitem" href="../../tutorials/tutorial_1/">1 Install Mimi</a></li><li><a class="tocitem" href="../../tutorials/tutorial_2/">2 Run an Existing Model</a></li><li><a class="tocitem" href="../../tutorials/tutorial_3/">3 Modify an Existing Model</a></li><li><a class="tocitem" href="../../tutorials/tutorial_4/">4 Create a Model</a></li><li><a class="tocitem" href="../../tutorials/tutorial_5/">5 Sensitivity Analysis</a></li></ul></li><li><span class="tocitem">How-to Guides</span><ul><li><a class="tocitem" href="../howto_main/">How-to Guides Intro</a></li><li><a class="tocitem" href="../howto_1/">1 Construct + Run a Model</a></li><li><a class="tocitem" href="../howto_2/">2 Explore Results</a></li><li><a class="tocitem" href="../howto_3/">3 Sensitivity Analysis</a></li><li><a class="tocitem" href="../howto_4/">4 Timesteps, Params, and Vars</a></li><li><a class="tocitem" href="../howto_5/">5 Port to v0.5.0</a></li><li class="is-active"><a class="tocitem" href>6 Port to v1.0.0</a><ul class="internal"><li><a class="tocitem" href="#Syntax-within-@defcomp-1"><span>Syntax within @defcomp</span></a></li><li><a class="tocitem" href="#The-set_param!-function-1"><span>The set_param! function</span></a></li><li><a class="tocitem" href="#Different-length-components-1"><span>Different-length components</span></a></li><li><a class="tocitem" href="#Changes-to-simulation-syntax-1"><span>Changes to simulation syntax</span></a></li><li><a class="tocitem" href="#Integer-indexing-1"><span>Integer indexing</span></a></li><li><a class="tocitem" href="#Composite-components-1"><span>Composite components</span></a></li></ul></li></ul></li><li><span class="tocitem">Advanced How-to Guides</span><ul><li><a class="tocitem" href="../../howto_advanced/howto_adv_main/">Advanced How-to Guides Intro</a></li><li><a class="tocitem" href="../../howto_advanced/howto_adv_buildinit/">Build and Init Functions</a></li><li><a class="tocitem" href="../../howto_advanced/howto_adv_datumrefs/">Using Datum References</a></li></ul></li><li><span class="tocitem">Reference Guides</span><ul><li><a class="tocitem" href="../../ref/ref_main/">Reference Guides Intro</a></li><li><a class="tocitem" href="../../ref/ref_API/">Mimi API</a></li><li><a class="tocitem" href="../../ref/ref_structures_1_overview/">Structures: Overview</a></li><li><a class="tocitem" href="../../ref/ref_structures_2_definitions/">Structures: Definitions</a></li><li><a class="tocitem" href="../../ref/ref_structures_3_instances/">Structures: Instances</a></li></ul></li><li><a class="tocitem" href="../../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How-to Guides</a></li><li class="is-active"><a href>6 Port to v1.0.0</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>6 Port to v1.0.0</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mimiframework/Mimi.jl/blob/master/docs/src/howto/howto_6.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-Guide-6:-Port-to-Mimi-v1.0.0-1"><a class="docs-heading-anchor" href="#How-to-Guide-6:-Port-to-Mimi-v1.0.0-1">How-to Guide 6: Port to Mimi v1.0.0</a><a class="docs-heading-anchor-permalink" href="#How-to-Guide-6:-Port-to-Mimi-v1.0.0-1" title="Permalink"></a></h1><p>The release of Mimi v1.0.0 is a breaking release, necessitating the adaptation of existing models&#39; syntax and structure in order for those models to run on this new version.  This guide provides an overview of the steps required to get most models using the v0.9.5 API working with v1.0.0.  It is <strong>not</strong> a comprehensive review of all changes and new functionalities, but a guide to the minimum steps required to port old models between versions.  For complete information on the new version and its functionalities, see the full documentation.</p><p>To port your model, we recommend you update to <strong>Mimi v0.10.0</strong>, which is identical to Mimi v1.0.0 <strong>except</strong> that it includes deprecation warnings for (most) breaking changes, instead of errors. This means that models written using Mimi v0.9.5 will, in most cases, run successfully under Mimi v0.10.0 although things that will cause errors in v1.0.0 will throw deprecation warnings. Thus a good workflow would be:</p><ol><li>update to Mimi v0.10.0</li><li>read through this guide to get a sense for what has changed</li><li>run your code and incrementally update it, using the deprecation warnings as guides and the instructions in this guide as explanations, until no warnings are thrown</li><li>double check for any of the cases in this guide</li><li>update to Mimi v1.0.0 and run your model!</li></ol><p>This guide is organized into five main sections, each descripting an independent set of changes that can be undertaken in any order desired. </p><ol><li>Syntax within @defcomp</li><li>The set_param! function</li><li>Different-length components</li><li>Simulation syntax</li><li>Composite components (this should probably have it&#39;s own guide, but should get a brief mention here)</li></ol><h2 id="Syntax-within-@defcomp-1"><a class="docs-heading-anchor" href="#Syntax-within-@defcomp-1">Syntax within @defcomp</a><a class="docs-heading-anchor-permalink" href="#Syntax-within-@defcomp-1" title="Permalink"></a></h2><ul><li>Parameter data type specification</li><li>no more integer indexing (use TimetsepIndex(2) or TimestepValue(1990) instead, available comparison functions, d.time returns AbstractTimesteps)</li></ul><h2 id="The-set_param!-function-1"><a class="docs-heading-anchor" href="#The-set_param!-function-1">The set_param! function</a><a class="docs-heading-anchor-permalink" href="#The-set_param!-function-1" title="Permalink"></a></h2><ul><li>explain new function (now has five arguments)</li><li>explain the shortcuts</li><li>explain when it errors</li></ul><h2 id="Different-length-components-1"><a class="docs-heading-anchor" href="#Different-length-components-1">Different-length components</a><a class="docs-heading-anchor-permalink" href="#Different-length-components-1" title="Permalink"></a></h2><p>(either the functionality will be gone, or implemented differently)</p><h2 id="Changes-to-simulation-syntax-1"><a class="docs-heading-anchor" href="#Changes-to-simulation-syntax-1">Changes to simulation syntax</a><a class="docs-heading-anchor-permalink" href="#Changes-to-simulation-syntax-1" title="Permalink"></a></h2><ul><li>Delete getindex (with square bracket shortcut) for getting values from a simulation instance; use getdataframe instead</li><li>rename some functions without camelCase</li></ul><h2 id="Integer-indexing-1"><a class="docs-heading-anchor" href="#Integer-indexing-1">Integer indexing</a><a class="docs-heading-anchor-permalink" href="#Integer-indexing-1" title="Permalink"></a></h2><ul><li>cannot index with integers</li><li>removed <code>is_time</code> and <code>is_timestep</code></li></ul><h2 id="Composite-components-1"><a class="docs-heading-anchor" href="#Composite-components-1">Composite components</a><a class="docs-heading-anchor-permalink" href="#Composite-components-1" title="Permalink"></a></h2><p>This should also have it&#39;s own comprehensive guide, but should get a brief description here.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../howto_5/">« 5 Port to v0.5.0</a><a class="docs-footer-nextpage" href="../../howto_advanced/howto_adv_main/">Advanced How-to Guides Intro »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 23 June 2020 20:37">Tuesday 23 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
